/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

var Prototype={Version:"1.5.0",BrowserFeatures:{XPath:!!document.evaluate},ScriptFragment:"(?:<script.*?>)((\n|\r|.)*?)(?:</script>)",emptyFunction:function(){},K:function(x){return x;}};var Class={create:function(){return function(){this.initialize.apply(this,arguments);};}};var Abstract=new Object();Object.extend=function(_f27,_f28){for(var _f29 in _f28){_f27[_f29]=_f28[_f29];}return _f27;};Object.extend(Object,{inspect:function(_f2a){try{if(_f2a===undefined){return "undefined";}if(_f2a===null){return "null";}return _f2a.inspect?_f2a.inspect():_f2a.toString();}catch(e){if(e instanceof RangeError){return "...";}throw e;}},keys:function(_f2b){var keys=[];for(var _f2d in _f2b){keys.push(_f2d);}return keys;},values:function(_f2e){var _f2f=[];for(var _f30 in _f2e){_f2f.push(_f2e[_f30]);}return _f2f;},clone:function(_f31){return Object.extend({},_f31);}});Function.prototype.bind=function(){var _f32=this,args=$A(arguments),object=args.shift();return function(){return _f32.apply(object,args.concat($A(arguments)));};};Function.prototype.bindAsEventListener=function(_f33){var _f34=this,args=$A(arguments),_f33=args.shift();return function(_f35){return _f34.apply(_f33,[(_f35||window.event)].concat(args).concat($A(arguments)));};};Object.extend(Number.prototype,{toColorPart:function(){var _f36=this.toString(16);if(this<16){return "0"+_f36;}return _f36;},succ:function(){return this+1;},times:function(_f37){$R(0,this,true).each(_f37);return this;}});var Try={these:function(){var _f38;for(var i=0,length=arguments.length;i<length;i++){var _f3a=arguments[i];try{_f38=_f3a();break;}catch(e){}}return _f38;}};var PeriodicalExecuter=Class.create();PeriodicalExecuter.prototype={initialize:function(_f3b,_f3c){this.callback=_f3b;this.frequency=_f3c;this.currentlyExecuting=false;this.registerCallback();},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},stop:function(){if(!this.timer){return;}clearInterval(this.timer);this.timer=null;},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.callback(this);}finally{this.currentlyExecuting=false;}}}};String.interpret=function(_f3d){return _f3d==null?"":String(_f3d);};Object.extend(String.prototype,{gsub:function(_f3e,_f3f){var _f40="",source=this,match;_f3f=arguments.callee.prepareReplacement(_f3f);while(source.length>0){if(match=source.match(_f3e)){_f40+=source.slice(0,match.index);_f40+=String.interpret(_f3f(match));source=source.slice(match.index+match[0].length);}else{_f40+=source,source="";}}return _f40;},sub:function(_f41,_f42,_f43){_f42=this.gsub.prepareReplacement(_f42);_f43=_f43===undefined?1:_f43;return this.gsub(_f41,function(_f44){if(--_f43<0){return _f44[0];}return _f42(_f44);});},scan:function(_f45,_f46){this.gsub(_f45,_f46);return this;},truncate:function(_f47,_f48){_f47=_f47||30;_f48=_f48===undefined?"...":_f48;return this.length>_f47?this.slice(0,_f47-_f48.length)+_f48:this;},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"");},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"");},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"");},extractScripts:function(){var _f49=new RegExp(Prototype.ScriptFragment,"img");var _f4a=new RegExp(Prototype.ScriptFragment,"im");return (this.match(_f49)||[]).map(function(_f4b){return (_f4b.match(_f4a)||["",""])[1];});},evalScripts:function(){return this.extractScripts().map(function(_f4c){return eval(_f4c);});},escapeHTML:function(){var div=document.createElement("div");var text=document.createTextNode(this);div.appendChild(text);return div.innerHTML;},unescapeHTML:function(){var div=document.createElement("div");div.innerHTML=this.stripTags();return div.childNodes[0]?(div.childNodes.length>1?$A(div.childNodes).inject("",function(memo,node){return memo+node.nodeValue;}):div.childNodes[0].nodeValue):"";},toQueryParams:function(_f52){var _f53=this.strip().match(/([^?#]*)(#.*)?$/);if(!_f53){return {};}return _f53[1].split(_f52||"&").inject({},function(hash,pair){if((pair=pair.split("="))[0]){var name=decodeURIComponent(pair[0]);var _f57=pair[1]?decodeURIComponent(pair[1]):undefined;if(hash[name]!==undefined){if(hash[name].constructor!=Array){hash[name]=[hash[name]];}if(_f57){hash[name].push(_f57);}}else{hash[name]=_f57;}}return hash;});},toArray:function(){return this.split("");},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1);},camelize:function(){var _f58=this.split("-"),len=_f58.length;if(len==1){return _f58[0];}var _f59=this.charAt(0)=="-"?_f58[0].charAt(0).toUpperCase()+_f58[0].substring(1):_f58[0];for(var i=1;i<len;i++){_f59+=_f58[i].charAt(0).toUpperCase()+_f58[i].substring(1);}return _f59;},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase();},dasherize:function(){return this.gsub(/_/,"-");},inspect:function(_f5b){var _f5c=this.replace(/\\/g,"\\\\");if(_f5b){return "\""+_f5c.replace(/"/g,"\\\"")+"\"";}else{return "'"+_f5c.replace(/'/g,"\\'")+"'";}}});String.prototype.gsub.prepareReplacement=function(_f5d){if(typeof _f5d=="function"){return _f5d;}var _f5e=new Template(_f5d);return function(_f5f){return _f5e.evaluate(_f5f);};};String.prototype.parseQuery=String.prototype.toQueryParams;var Template=Class.create();Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;Template.prototype={initialize:function(_f60,_f61){this.template=_f60.toString();this.pattern=_f61||Template.Pattern;},evaluate:function(_f62){return this.template.gsub(this.pattern,function(_f63){var _f64=_f63[1];if(_f64=="\\"){return _f63[2];}return _f64+String.interpret(_f62[_f63[3]]);});}};var $break=new Object();var $continue=new Object();var Enumerable={each:function(_f65){var _f66=0;try{this._each(function(_f67){try{_f65(_f67,_f66++);}catch(e){if(e!=$continue){throw e;}}});}catch(e){if(e!=$break){throw e;}}return this;},eachSlice:function(_f68,_f69){var _f6a=-_f68,slices=[],array=this.toArray();while((_f6a+=_f68)<array.length){slices.push(array.slice(_f6a,_f6a+_f68));}return slices.map(_f69);},all:function(_f6b){var _f6c=true;this.each(function(_f6d,_f6e){_f6c=_f6c&&!!(_f6b||Prototype.K)(_f6d,_f6e);if(!_f6c){throw $break;}});return _f6c;},any:function(_f6f){var _f70=false;this.each(function(_f71,_f72){if(_f70=!!(_f6f||Prototype.K)(_f71,_f72)){throw $break;}});return _f70;},collect:function(_f73){var _f74=[];this.each(function(_f75,_f76){_f74.push((_f73||Prototype.K)(_f75,_f76));});return _f74;},detect:function(_f77){var _f78;this.each(function(_f79,_f7a){if(_f77(_f79,_f7a)){_f78=_f79;throw $break;}});return _f78;},findAll:function(_f7b){var _f7c=[];this.each(function(_f7d,_f7e){if(_f7b(_f7d,_f7e)){_f7c.push(_f7d);}});return _f7c;},grep:function(_f7f,_f80){var _f81=[];this.each(function(_f82,_f83){var _f84=_f82.toString();if(_f84.match(_f7f)){_f81.push((_f80||Prototype.K)(_f82,_f83));}});return _f81;},include:function(_f85){var _f86=false;this.each(function(_f87){if(_f87==_f85){_f86=true;throw $break;}});return _f86;},inGroupsOf:function(_f88,_f89){_f89=_f89===undefined?null:_f89;return this.eachSlice(_f88,function(_f8a){while(_f8a.length<_f88){_f8a.push(_f89);}return _f8a;});},inject:function(memo,_f8c){this.each(function(_f8d,_f8e){memo=_f8c(memo,_f8d,_f8e);});return memo;},invoke:function(_f8f){var args=$A(arguments).slice(1);return this.map(function(_f91){return _f91[_f8f].apply(_f91,args);});},max:function(_f92){var _f93;this.each(function(_f94,_f95){_f94=(_f92||Prototype.K)(_f94,_f95);if(_f93==undefined||_f94>=_f93){_f93=_f94;}});return _f93;},min:function(_f96){var _f97;this.each(function(_f98,_f99){_f98=(_f96||Prototype.K)(_f98,_f99);if(_f97==undefined||_f98<_f97){_f97=_f98;}});return _f97;},partition:function(_f9a){var _f9b=[],falses=[];this.each(function(_f9c,_f9d){((_f9a||Prototype.K)(_f9c,_f9d)?_f9b:falses).push(_f9c);});return [_f9b,falses];},pluck:function(_f9e){var _f9f=[];this.each(function(_fa0,_fa1){_f9f.push(_fa0[_f9e]);});return _f9f;},reject:function(_fa2){var _fa3=[];this.each(function(_fa4,_fa5){if(!_fa2(_fa4,_fa5)){_fa3.push(_fa4);}});return _fa3;},sortBy:function(_fa6){return this.map(function(_fa7,_fa8){return {value:_fa7,criteria:_fa6(_fa7,_fa8)};}).sort(function(left,_faa){var a=left.criteria,b=_faa.criteria;return a<b?-1:a>b?1:0;}).pluck("value");},toArray:function(){return this.map();},zip:function(){var _fac=Prototype.K,args=$A(arguments);if(typeof args.last()=="function"){_fac=args.pop();}var _fad=[this].concat(args).map($A);return this.map(function(_fae,_faf){return _fac(_fad.pluck(_faf));});},size:function(){return this.toArray().length;},inspect:function(){return "#<Enumerable:"+this.toArray().inspect()+">";}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray});var $A=Array.from=function(_fb0){if(!_fb0){return [];}if(_fb0.toArray){return _fb0.toArray();}else{var _fb1=[];for(var i=0,length=_fb0.length;i<length;i++){_fb1.push(_fb0[i]);}return _fb1;}};Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse;}Object.extend(Array.prototype,{_each:function(_fb3){for(var i=0,length=this.length;i<length;i++){_fb3(this[i]);}},clear:function(){this.length=0;return this;},first:function(){return this[0];},last:function(){return this[this.length-1];},compact:function(){return this.select(function(_fb5){return _fb5!=null;});},flatten:function(){return this.inject([],function(_fb6,_fb7){return _fb6.concat(_fb7&&_fb7.constructor==Array?_fb7.flatten():[_fb7]);});},without:function(){var _fb8=$A(arguments);return this.select(function(_fb9){return !_fb8.include(_fb9);});},indexOf:function(_fba){for(var i=0,length=this.length;i<length;i++){if(this[i]==_fba){return i;}}return -1;},reverse:function(_fbc){return (_fbc!==false?this:this.toArray())._reverse();},reduce:function(){return this.length>1?this:this[0];},uniq:function(){return this.inject([],function(_fbd,_fbe){return _fbd.include(_fbe)?_fbd:_fbd.concat([_fbe]);});},clone:function(){return [].concat(this);},size:function(){return this.length;},inspect:function(){return "["+this.map(Object.inspect).join(", ")+"]";}});Array.prototype.toArray=Array.prototype.clone;function $w(_fbf){_fbf=_fbf.strip();return _fbf?_fbf.split(/\s+/):[];}if(window.opera){Array.prototype.concat=function(){var _fc0=[];for(var i=0,length=this.length;i<length;i++){_fc0.push(this[i]);}for(var i=0,length=arguments.length;i<length;i++){if(arguments[i].constructor==Array){for(var j=0,arrayLength=arguments[i].length;j<arrayLength;j++){_fc0.push(arguments[i][j]);}}else{_fc0.push(arguments[i]);}}return _fc0;};}var Hash=function(obj){Object.extend(this,obj||{});};Object.extend(Hash,{toQueryString:function(obj){var _fc5=[];this.prototype._each.call(obj,function(pair){if(!pair.key){return;}if(pair.value&&pair.value.constructor==Array){var _fc7=pair.value.compact();if(_fc7.length<2){pair.value=_fc7.reduce();}else{key=encodeURIComponent(pair.key);_fc7.each(function(_fc8){_fc8=_fc8!=undefined?encodeURIComponent(_fc8):"";_fc5.push(key+"="+encodeURIComponent(_fc8));});return;}}if(pair.value==undefined){pair[1]="";}_fc5.push(pair.map(encodeURIComponent).join("="));});return _fc5.join("&");}});Object.extend(Hash.prototype,Enumerable);Object.extend(Hash.prototype,{_each:function(_fc9){for(var key in this){var _fcb=this[key];if(_fcb&&_fcb==Hash.prototype[key]){continue;}var pair=[key,_fcb];pair.key=key;pair.value=_fcb;_fc9(pair);}},keys:function(){return this.pluck("key");},values:function(){return this.pluck("value");},merge:function(hash){return $H(hash).inject(this,function(_fce,pair){_fce[pair.key]=pair.value;return _fce;});},remove:function(){var _fd0;for(var i=0,length=arguments.length;i<length;i++){var _fd2=this[arguments[i]];if(_fd2!==undefined){if(_fd0===undefined){_fd0=_fd2;}else{if(_fd0.constructor!=Array){_fd0=[_fd0];}_fd0.push(_fd2);}}delete this[arguments[i]];}return _fd0;},toQueryString:function(){return Hash.toQueryString(this);},inspect:function(){return "#<Hash:{"+this.map(function(pair){return pair.map(Object.inspect).join(": ");}).join(", ")+"}>";}});function $H(_fd4){if(_fd4&&_fd4.constructor==Hash){return _fd4;}return new Hash(_fd4);}ObjectRange=Class.create();Object.extend(ObjectRange.prototype,Enumerable);Object.extend(ObjectRange.prototype,{initialize:function(_fd5,end,_fd7){this.start=_fd5;this.end=end;this.exclusive=_fd7;},_each:function(_fd8){var _fd9=this.start;while(this.include(_fd9)){_fd8(_fd9);_fd9=_fd9.succ();}},include:function(_fda){if(_fda<this.start){return false;}if(this.exclusive){return _fda<this.end;}return _fda<=this.end;}});var $R=function(_fdb,end,_fdd){return new ObjectRange(_fdb,end,_fdd);};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");})||false;},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(_fde){this.responders._each(_fde);},register:function(_fdf){if(!this.include(_fdf)){this.responders.push(_fdf);}},unregister:function(_fe0){this.responders=this.responders.without(_fe0);},dispatch:function(_fe1,_fe2,_fe3,json){this.each(function(_fe5){if(typeof _fe5[_fe1]=="function"){try{_fe5[_fe1].apply(_fe5,[_fe2,_fe3,json]);}catch(e){}}});}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++;},onComplete:function(){Ajax.activeRequestCount--;}});Ajax.Base=function(){};Ajax.Base.prototype={setOptions:function(_fe6){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""};Object.extend(this.options,_fe6||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=this.options.parameters.toQueryParams();}}};Ajax.Request=Class.create();Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Request.prototype=Object.extend(new Ajax.Base(),{_complete:false,initialize:function(url,_fe8){this.transport=Ajax.getTransport();this.setOptions(_fe8);this.request(url);},request:function(url){this.url=url;this.method=this.options.method;var _fea=this.options.parameters;if(!["get","post"].include(this.method)){_fea["_method"]=this.method;this.method="post";}_fea=Hash.toQueryString(_fea);if(_fea&&/Konqueror|Safari|KHTML/.test(navigator.userAgent)){_fea+="&_=";}if(this.method=="get"&&_fea){this.url+=(this.url.indexOf("?")>-1?"&":"?")+_fea;}try{Ajax.Responders.dispatch("onCreate",this,this.transport);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){setTimeout(function(){this.respondToReadyState(1);}.bind(this),10);}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();var body=this.method=="post"?(this.options.postBody||_fea):null;this.transport.send(body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){this.dispatchException(e);}},onStateChange:function(){var _fec=this.transport.readyState;if(_fec>1&&!((_fec==4)&&this._complete)){this.respondToReadyState(this.transport.readyState);}},setRequestHeaders:function(){var _fed={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,"Accept":"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){_fed["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){_fed["Connection"]="close";}}if(typeof this.options.requestHeaders=="object"){var _fee=this.options.requestHeaders;if(typeof _fee.push=="function"){for(var i=0,length=_fee.length;i<length;i+=2){_fed[_fee[i]]=_fee[i+1];}}else{$H(_fee).each(function(pair){_fed[pair.key]=pair.value;});}}for(var name in _fed){this.transport.setRequestHeader(name,_fed[name]);}},success:function(){return !this.transport.status||(this.transport.status>=200&&this.transport.status<300);},respondToReadyState:function(_ff2){var _ff3=Ajax.Request.Events[_ff2];var _ff4=this.transport,json=this.evalJSON();if(_ff3=="Complete"){try{this._complete=true;(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(_ff4,json);}catch(e){this.dispatchException(e);}if((this.getHeader("Content-type")||"text/javascript").strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)){this.evalResponse();}}try{(this.options["on"+_ff3]||Prototype.emptyFunction)(_ff4,json);Ajax.Responders.dispatch("on"+_ff3,this,_ff4,json);}catch(e){this.dispatchException(e);}if(_ff3=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction;}},getHeader:function(name){try{return this.transport.getResponseHeader(name);}catch(e){return null;}},evalJSON:function(){try{var json=this.getHeader("X-JSON");return json?eval("("+json+")"):null;}catch(e){return null;}},evalResponse:function(){try{return eval(this.transport.responseText);}catch(e){this.dispatchException(e);}},dispatchException:function(_ff7){(this.options.onException||Prototype.emptyFunction)(this,_ff7);Ajax.Responders.dispatch("onException",this,_ff7);}});Ajax.Updater=Class.create();Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(_ff8,url,_ffa){this.container={success:(_ff8.success||_ff8),failure:(_ff8.failure||(_ff8.success?null:_ff8))};this.transport=Ajax.getTransport();this.setOptions(_ffa);var _ffb=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=(function(_ffc,_ffd){this.updateContent();_ffb(_ffc,_ffd);}).bind(this);this.request(url);},updateContent:function(){var _ffe=this.container[this.success()?"success":"failure"];var _fff=this.transport.responseText;if(!this.options.evalScripts){_fff=_fff.stripScripts();}if(_ffe=$(_ffe)){if(this.options.insertion){new this.options.insertion(_ffe,_fff);}else{_ffe.update(_fff);}}if(this.success()){if(this.onComplete){setTimeout(this.onComplete.bind(this),10);}}}});Ajax.PeriodicalUpdater=Class.create();Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base(),{initialize:function(_1000,url,_1002){this.setOptions(_1002);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=_1000;this.url=url;this.start();},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent();},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments);},updateComplete:function(_1003){if(this.options.decay){this.decay=(_1003.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=_1003.responseText;}this.timer=setTimeout(this.onTimerEvent.bind(this),this.decay*this.frequency*1000);},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options);}});function $(_1004){if(arguments.length>1){for(var i=0,elements=[],length=arguments.length;i<length;i++){elements.push($(arguments[i]));}return elements;}if(typeof _1004=="string"){_1004=document.getElementById(_1004);}return Element.extend(_1004);}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(_1006,_1007){var _1008=[];var query=document.evaluate(_1006,$(_1007)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,length=query.snapshotLength;i<length;i++){_1008.push(query.snapshotItem(i));}return _1008;};}document.getElementsByClassName=function(_100b,_100c){if(Prototype.BrowserFeatures.XPath){var q=".//*[contains(concat(' ', @class, ' '), ' "+_100b+" ')]";return document._getElementsByXPath(q,_100c);}else{var _100e=($(_100c)||document.body).getElementsByTagName("*");var _100f=[],child;for(var i=0,length=_100e.length;i<length;i++){child=_100e[i];if(Element.hasClassName(child,_100b)){_100f.push(Element.extend(child));}}return _100f;}};if(!window.Element){var Element=new Object();}Element.extend=function(_1011){if(!_1011||_nativeExtensions||_1011.nodeType==3){return _1011;}if(!_1011._extended&&_1011.tagName&&_1011!=window){var _1012=Object.clone(Element.Methods),cache=Element.extend.cache;if(_1011.tagName=="FORM"){Object.extend(_1012,Form.Methods);}if(["INPUT","TEXTAREA","SELECT"].include(_1011.tagName)){Object.extend(_1012,Form.Element.Methods);}Object.extend(_1012,Element.Methods.Simulated);for(var _1013 in _1012){var value=_1012[_1013];if(typeof value=="function"&&!(_1013 in _1011)){_1011[_1013]=cache.findOrStore(value);}}}_1011._extended=true;return _1011;};Element.extend.cache={findOrStore:function(value){return this[value]=this[value]||function(){return value.apply(null,[this].concat($A(arguments)));};}};Element.Methods={visible:function(_1016){return $(_1016).style.display!="none";},toggle:function(_1017){_1017=$(_1017);Element[Element.visible(_1017)?"hide":"show"](_1017);return _1017;},hide:function(_1018){$(_1018).style.display="none";return _1018;},show:function(_1019){$(_1019).style.display="";return _1019;},remove:function(_101a){_101a=$(_101a);_101a.parentNode.removeChild(_101a);return _101a;},update:function(_101b,html){html=typeof html=="undefined"?"":html.toString();$(_101b).innerHTML=html.stripScripts();setTimeout(function(){html.evalScripts();},10);return _101b;},replace:function(_101d,html){_101d=$(_101d);html=typeof html=="undefined"?"":html.toString();if(_101d.outerHTML){_101d.outerHTML=html.stripScripts();}else{var range=_101d.ownerDocument.createRange();range.selectNodeContents(_101d);_101d.parentNode.replaceChild(range.createContextualFragment(html.stripScripts()),_101d);}setTimeout(function(){html.evalScripts();},10);return _101d;},inspect:function(_1020){_1020=$(_1020);var _1021="<"+_1020.tagName.toLowerCase();$H({"id":"id","className":"class"}).each(function(pair){var _1023=pair.first(),attribute=pair.last();var value=(_1020[_1023]||"").toString();if(value){_1021+=" "+attribute+"="+value.inspect(true);}});return _1021+">";},recursivelyCollect:function(_1025,_1026){_1025=$(_1025);var _1027=[];while(_1025=_1025[_1026]){if(_1025.nodeType==1){_1027.push(Element.extend(_1025));}}return _1027;},ancestors:function(_1028){return $(_1028).recursivelyCollect("parentNode");},descendants:function(_1029){return $A($(_1029).getElementsByTagName("*"));},immediateDescendants:function(_102a){if(!(_102a=$(_102a).firstChild)){return [];}while(_102a&&_102a.nodeType!=1){_102a=_102a.nextSibling;}if(_102a){return [_102a].concat($(_102a).nextSiblings());}return [];},previousSiblings:function(_102b){return $(_102b).recursivelyCollect("previousSibling");},nextSiblings:function(_102c){return $(_102c).recursivelyCollect("nextSibling");},siblings:function(_102d){_102d=$(_102d);return _102d.previousSiblings().reverse().concat(_102d.nextSiblings());},match:function(_102e,_102f){if(typeof _102f=="string"){_102f=new Selector(_102f);}return _102f.match($(_102e));},up:function(_1030,_1031,index){return Selector.findElement($(_1030).ancestors(),_1031,index);},down:function(_1033,_1034,index){return Selector.findElement($(_1033).descendants(),_1034,index);},previous:function(_1036,_1037,index){return Selector.findElement($(_1036).previousSiblings(),_1037,index);},next:function(_1039,_103a,index){return Selector.findElement($(_1039).nextSiblings(),_103a,index);},getElementsBySelector:function(){var args=$A(arguments),element=$(args.shift());return Selector.findChildElements(element,args);},getElementsByClassName:function(_103d,_103e){return document.getElementsByClassName(_103e,_103d);},readAttribute:function(_103f,name){_103f=$(_103f);if(document.all&&!window.opera){var t=Element._attributeTranslations;if(t.values[name]){return t.values[name](_103f,name);}if(t.names[name]){name=t.names[name];}var _1042=_103f.attributes[name];if(_1042){return _1042.nodeValue;}}return _103f.getAttribute(name);},getHeight:function(_1043){return $(_1043).getDimensions().height;},getWidth:function(_1044){return $(_1044).getDimensions().width;},classNames:function(_1045){return new Element.ClassNames(_1045);},hasClassName:function(_1046,_1047){if(!(_1046=$(_1046))){return;}var _1048=_1046.className;if(_1048.length==0){return false;}if(_1048==_1047||_1048.match(new RegExp("(^|\\s)"+_1047+"(\\s|$)"))){return true;}return false;},addClassName:function(_1049,_104a){if(!(_1049=$(_1049))){return;}Element.classNames(_1049).add(_104a);return _1049;},removeClassName:function(_104b,_104c){if(!(_104b=$(_104b))){return;}Element.classNames(_104b).remove(_104c);return _104b;},toggleClassName:function(_104d,_104e){if(!(_104d=$(_104d))){return;}Element.classNames(_104d)[_104d.hasClassName(_104e)?"remove":"add"](_104e);return _104d;},observe:function(){Event.observe.apply(Event,arguments);return $A(arguments).first();},stopObserving:function(){Event.stopObserving.apply(Event,arguments);return $A(arguments).first();},cleanWhitespace:function(_104f){_104f=$(_104f);var node=_104f.firstChild;while(node){var _1051=node.nextSibling;if(node.nodeType==3&&!/\S/.test(node.nodeValue)){_104f.removeChild(node);}node=_1051;}return _104f;},empty:function(_1052){return $(_1052).innerHTML.match(/^\s*$/);},descendantOf:function(_1053,_1054){_1053=$(_1053),_1054=$(_1054);while(_1053=_1053.parentNode){if(_1053==_1054){return true;}}return false;},scrollTo:function(_1055){_1055=$(_1055);var pos=Position.cumulativeOffset(_1055);window.scrollTo(pos[0],pos[1]);return _1055;},getStyle:function(_1057,style){_1057=$(_1057);if(["float","cssFloat"].include(style)){style=(typeof _1057.style.styleFloat!="undefined"?"styleFloat":"cssFloat");}style=style.camelize();var value=_1057.style[style];if(!value){if(document.defaultView&&document.defaultView.getComputedStyle){var css=document.defaultView.getComputedStyle(_1057,null);value=css?css[style]:null;}else{if(_1057.currentStyle){value=_1057.currentStyle[style];}}}if((value=="auto")&&["width","height"].include(style)&&(_1057.getStyle("display")!="none")){value=_1057["offset"+style.capitalize()]+"px";}if(window.opera&&["left","top","right","bottom"].include(style)){if(Element.getStyle(_1057,"position")=="static"){value="auto";}}if(style=="opacity"){if(value){return parseFloat(value);}if(value=(_1057.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(value[1]){return parseFloat(value[1])/100;}}return 1;}return value=="auto"?null:value;},setStyle:function(_105b,style){_105b=$(_105b);for(var name in style){var value=style[name];if(name=="opacity"){if(value==1){value=(/Gecko/.test(navigator.userAgent)&&!/Konqueror|Safari|KHTML/.test(navigator.userAgent))?0.999999:1;if(/MSIE/.test(navigator.userAgent)&&!window.opera){_105b.style.filter=_105b.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"");}}else{if(value===""){if(/MSIE/.test(navigator.userAgent)&&!window.opera){_105b.style.filter=_105b.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"");}}else{if(value<0.00001){value=0;}if(/MSIE/.test(navigator.userAgent)&&!window.opera){_105b.style.filter=_105b.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+value*100+")";}}}}else{if(["float","cssFloat"].include(name)){name=(typeof _105b.style.styleFloat!="undefined")?"styleFloat":"cssFloat";}}_105b.style[name.camelize()]=value;}return _105b;},getDimensions:function(_105f){_105f=$(_105f);var _1060=$(_105f).getStyle("display");if(_1060!="none"&&_1060!=null){return {width:_105f.offsetWidth,height:_105f.offsetHeight};}var els=_105f.style;var _1062=els.visibility;var _1063=els.position;var _1064=els.display;els.visibility="hidden";els.position="absolute";els.display="block";var _1065=_105f.clientWidth;var _1066=_105f.clientHeight;els.display=_1064;els.position=_1063;els.visibility=_1062;return {width:_1065,height:_1066};},makePositioned:function(_1067){_1067=$(_1067);var pos=Element.getStyle(_1067,"position");if(pos=="static"||!pos){_1067._madePositioned=true;_1067.style.position="relative";if(window.opera){_1067.style.top=0;_1067.style.left=0;}}return _1067;},undoPositioned:function(_1069){_1069=$(_1069);if(_1069._madePositioned){_1069._madePositioned=undefined;_1069.style.position=_1069.style.top=_1069.style.left=_1069.style.bottom=_1069.style.right="";}return _1069;},makeClipping:function(_106a){_106a=$(_106a);if(_106a._overflow){return _106a;}_106a._overflow=_106a.style.overflow||"auto";if((Element.getStyle(_106a,"overflow")||"visible")!="hidden"){_106a.style.overflow="hidden";}return _106a;},undoClipping:function(_106b){_106b=$(_106b);if(!_106b._overflow){return _106b;}_106b.style.overflow=_106b._overflow=="auto"?"":_106b._overflow;_106b._overflow=null;return _106b;}};Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf});Element._attributeTranslations={};Element._attributeTranslations.names={colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"};Element._attributeTranslations.values={_getAttr:function(_106c,_106d){return _106c.getAttribute(_106d,2);},_flag:function(_106e,_106f){return $(_106e).hasAttribute(_106f)?_106f:null;},style:function(_1070){return _1070.style.cssText.toLowerCase();},title:function(_1071){var node=_1071.getAttributeNode("title");return node.specified?node.nodeValue:null;}};Object.extend(Element._attributeTranslations.values,{href:Element._attributeTranslations.values._getAttr,src:Element._attributeTranslations.values._getAttr,disabled:Element._attributeTranslations.values._flag,checked:Element._attributeTranslations.values._flag,readonly:Element._attributeTranslations.values._flag,multiple:Element._attributeTranslations.values._flag});Element.Methods.Simulated={hasAttribute:function(_1073,_1074){var t=Element._attributeTranslations;_1074=t.names[_1074]||_1074;return $(_1073).getAttributeNode(_1074).specified;}};if(document.all&&!window.opera){Element.Methods.update=function(_1076,html){_1076=$(_1076);html=typeof html=="undefined"?"":html.toString();var _1078=_1076.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(_1078)){var div=document.createElement("div");switch(_1078){case "THEAD":case "TBODY":div.innerHTML="<table><tbody>"+html.stripScripts()+"</tbody></table>";depth=2;break;case "TR":div.innerHTML="<table><tbody><tr>"+html.stripScripts()+"</tr></tbody></table>";depth=3;break;case "TD":div.innerHTML="<table><tbody><tr><td>"+html.stripScripts()+"</td></tr></tbody></table>";depth=4;}$A(_1076.childNodes).each(function(node){_1076.removeChild(node);});depth.times(function(){div=div.firstChild;});$A(div.childNodes).each(function(node){_1076.appendChild(node);});}else{_1076.innerHTML=html.stripScripts();}setTimeout(function(){html.evalScripts();},10);return _1076;};}Object.extend(Element,Element.Methods);var _nativeExtensions=false;if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){["","Form","Input","TextArea","Select"].each(function(tag){var _107d="HTML"+tag+"Element";if(window[_107d]){return;}var klass=window[_107d]={};klass.prototype=document.createElement(tag?tag.toLowerCase():"div").__proto__;});}Element.addMethods=function(_107f){Object.extend(Element.Methods,_107f||{});function copy(_1080,_1081,_1082){_1082=_1082||false;var cache=Element.extend.cache;for(var _1084 in _1080){var value=_1080[_1084];if(!_1082||!(_1084 in _1081)){_1081[_1084]=cache.findOrStore(value);}}}if(typeof HTMLElement!="undefined"){copy(Element.Methods,HTMLElement.prototype);copy(Element.Methods.Simulated,HTMLElement.prototype,true);copy(Form.Methods,HTMLFormElement.prototype);[HTMLInputElement,HTMLTextAreaElement,HTMLSelectElement].each(function(klass){copy(Form.Element.Methods,klass.prototype);});_nativeExtensions=true;}};var Toggle=new Object();Toggle.display=Element.toggle;Abstract.Insertion=function(_1087){this.adjacency=_1087;};Abstract.Insertion.prototype={initialize:function(_1088,_1089){this.element=$(_1088);this.content=_1089.stripScripts();if(this.adjacency&&this.element.insertAdjacentHTML){try{this.element.insertAdjacentHTML(this.adjacency,this.content);}catch(e){var _108a=this.element.tagName.toUpperCase();if(["TBODY","TR"].include(_108a)){this.insertContent(this.contentFromAnonymousTable());}else{throw e;}}}else{this.range=this.element.ownerDocument.createRange();if(this.initializeRange){this.initializeRange();}this.insertContent([this.range.createContextualFragment(this.content)]);}setTimeout(function(){_1089.evalScripts();},10);},contentFromAnonymousTable:function(){var div=document.createElement("div");div.innerHTML="<table><tbody>"+this.content+"</tbody></table>";return $A(div.childNodes[0].childNodes[0].childNodes);}};var Insertion=new Object();Insertion.Before=Class.create();Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element);},insertContent:function(_108c){_108c.each((function(_108d){this.element.parentNode.insertBefore(_108d,this.element);}).bind(this));}});Insertion.Top=Class.create();Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(true);},insertContent:function(_108e){_108e.reverse(false).each((function(_108f){this.element.insertBefore(_108f,this.element.firstChild);}).bind(this));}});Insertion.Bottom=Class.create();Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(this.element);},insertContent:function(_1090){_1090.each((function(_1091){this.element.appendChild(_1091);}).bind(this));}});Insertion.After=Class.create();Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element);},insertContent:function(_1092){_1092.each((function(_1093){this.element.parentNode.insertBefore(_1093,this.element.nextSibling);}).bind(this));}});Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(_1094){this.element=$(_1094);},_each:function(_1095){this.element.className.split(/\s+/).select(function(name){return name.length>0;})._each(_1095);},set:function(_1097){this.element.className=_1097;},add:function(_1098){if(this.include(_1098)){return;}this.set($A(this).concat(_1098).join(" "));},remove:function(_1099){if(!this.include(_1099)){return;}this.set($A(this).without(_1099).join(" "));},toString:function(){return $A(this).join(" ");}};Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(_109a){this.params={classNames:[]};this.expression=_109a.toString().strip();this.parseExpression();this.compileMatcher();},parseExpression:function(){function abort(_109b){throw "Parse error in selector: "+_109b;}if(this.expression==""){abort("empty expression");}var _109c=this.params,expr=this.expression,match,modifier,clause,rest;while(match=expr.match(/^(.*)\[([a-z0-9_:-]+?)(?:([~\|!]?=)(?:"([^"]*)"|([^\]\s]*)))?\]$/i)){_109c.attributes=_109c.attributes||[];_109c.attributes.push({name:match[2],operator:match[3],value:match[4]||match[5]||""});expr=match[1];}if(expr=="*"){return this.params.wildcard=true;}while(match=expr.match(/^([^a-z0-9_-])?([a-z0-9_-]+)(.*)/i)){modifier=match[1],clause=match[2],rest=match[3];switch(modifier){case "#":_109c.id=clause;break;case ".":_109c.classNames.push(clause);break;case "":case undefined:_109c.tagName=clause.toUpperCase();break;default:abort(expr.inspect());}expr=rest;}if(expr.length>0){abort(expr.inspect());}},buildMatchExpression:function(){var _109d=this.params,conditions=[],clause;if(_109d.wildcard){conditions.push("true");}if(clause=_109d.id){conditions.push("element.readAttribute(\"id\") == "+clause.inspect());}if(clause=_109d.tagName){conditions.push("element.tagName.toUpperCase() == "+clause.inspect());}if((clause=_109d.classNames).length>0){for(var i=0,length=clause.length;i<length;i++){conditions.push("element.hasClassName("+clause[i].inspect()+")");}}if(clause=_109d.attributes){clause.each(function(_109f){var value="element.readAttribute("+_109f.name.inspect()+")";var _10a1=function(_10a2){return value+" && "+value+".split("+_10a2.inspect()+")";};switch(_109f.operator){case "=":conditions.push(value+" == "+_109f.value.inspect());break;case "~=":conditions.push(_10a1(" ")+".include("+_109f.value.inspect()+")");break;case "|=":conditions.push(_10a1("-")+".first().toUpperCase() == "+_109f.value.toUpperCase().inspect());break;case "!=":conditions.push(value+" != "+_109f.value.inspect());break;case "":case undefined:conditions.push("element.hasAttribute("+_109f.name.inspect()+")");break;default:throw "Unknown operator "+_109f.operator+" in selector";}});}return conditions.join(" && ");},compileMatcher:function(){this.match=new Function("element","if (!element.tagName) return false;       element = $(element);       return "+this.buildMatchExpression());},findElements:function(scope){var _10a4;if(_10a4=$(this.params.id)){if(this.match(_10a4)){if(!scope||Element.childOf(_10a4,scope)){return [_10a4];}}}scope=(scope||document).getElementsByTagName(this.params.tagName||"*");var _10a5=[];for(var i=0,length=scope.length;i<length;i++){if(this.match(_10a4=scope[i])){_10a5.push(Element.extend(_10a4));}}return _10a5;},toString:function(){return this.expression;}};Object.extend(Selector,{matchElements:function(_10a7,_10a8){var _10a9=new Selector(_10a8);return _10a7.select(_10a9.match.bind(_10a9)).map(Element.extend);},findElement:function(_10aa,_10ab,index){if(typeof _10ab=="number"){index=_10ab,_10ab=false;}return Selector.matchElements(_10aa,_10ab||"*")[index||0];},findChildElements:function(_10ad,_10ae){return _10ae.map(function(_10af){return _10af.match(/[^\s"]+(?:"[^"]*"[^\s"]+)*/g).inject([null],function(_10b0,expr){var _10b2=new Selector(expr);return _10b0.inject([],function(_10b3,_10b4){return _10b3.concat(_10b2.findElements(_10b4||_10ad));});});}).flatten();}});function $$(){return Selector.findChildElements(document,$A(arguments));}var Form={reset:function(form){$(form).reset();return form;},serializeElements:function(_10b6,_10b7){var data=_10b6.inject({},function(_10b9,_10ba){if(!_10ba.disabled&&_10ba.name){var key=_10ba.name,value=$(_10ba).getValue();if(value!=undefined){if(_10b9[key]){if(_10b9[key].constructor!=Array){_10b9[key]=[_10b9[key]];}_10b9[key].push(value);}else{_10b9[key]=value;}}}return _10b9;});return _10b7?data:Hash.toQueryString(data);}};Form.Methods={serialize:function(form,_10bd){return Form.serializeElements(Form.getElements(form),_10bd);},getElements:function(form){return $A($(form).getElementsByTagName("*")).inject([],function(_10bf,child){if(Form.Element.Serializers[child.tagName.toLowerCase()]){_10bf.push(Element.extend(child));}return _10bf;});},getInputs:function(form,_10c2,name){form=$(form);var _10c4=form.getElementsByTagName("input");if(!_10c2&&!name){return $A(_10c4).map(Element.extend);}for(var i=0,matchingInputs=[],length=_10c4.length;i<length;i++){var input=_10c4[i];if((_10c2&&input.type!=_10c2)||(name&&input.name!=name)){continue;}matchingInputs.push(Element.extend(input));}return matchingInputs;},disable:function(form){form=$(form);form.getElements().each(function(_10c8){_10c8.blur();_10c8.disabled="true";});return form;},enable:function(form){form=$(form);form.getElements().each(function(_10ca){_10ca.disabled="";});return form;},findFirstElement:function(form){return $(form).getElements().find(function(_10cc){return _10cc.type!="hidden"&&!_10cc.disabled&&["input","select","textarea"].include(_10cc.tagName.toLowerCase());});},focusFirstElement:function(form){form=$(form);form.findFirstElement().activate();return form;}};Object.extend(Form,Form.Methods);Form.Element={focus:function(_10ce){$(_10ce).focus();return _10ce;},select:function(_10cf){$(_10cf).select();return _10cf;}};Form.Element.Methods={serialize:function(_10d0){_10d0=$(_10d0);if(!_10d0.disabled&&_10d0.name){var value=_10d0.getValue();if(value!=undefined){var pair={};pair[_10d0.name]=value;return Hash.toQueryString(pair);}}return "";},getValue:function(_10d3){_10d3=$(_10d3);var _10d4=_10d3.tagName.toLowerCase();return Form.Element.Serializers[_10d4](_10d3);},clear:function(_10d5){$(_10d5).value="";return _10d5;},present:function(_10d6){return $(_10d6).value!="";},activate:function(_10d7){_10d7=$(_10d7);_10d7.focus();if(_10d7.select&&(_10d7.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(_10d7.type))){_10d7.select();}return _10d7;},disable:function(_10d8){_10d8=$(_10d8);_10d8.disabled=true;return _10d8;},enable:function(_10d9){_10d9=$(_10d9);_10d9.blur();_10d9.disabled=false;return _10d9;}};Object.extend(Form.Element,Form.Element.Methods);var Field=Form.Element;var $F=Form.Element.getValue;Form.Element.Serializers={input:function(_10da){switch(_10da.type.toLowerCase()){case "checkbox":case "radio":return Form.Element.Serializers.inputSelector(_10da);default:return Form.Element.Serializers.textarea(_10da);}},inputSelector:function(_10db){return _10db.checked?_10db.value:null;},textarea:function(_10dc){return _10dc.value;},select:function(_10dd){return this[_10dd.type=="select-one"?"selectOne":"selectMany"](_10dd);},selectOne:function(_10de){var index=_10de.selectedIndex;return index>=0?this.optionValue(_10de.options[index]):null;},selectMany:function(_10e0){var _10e1,length=_10e0.length;if(!length){return null;}for(var i=0,_10e1=[];i<length;i++){var opt=_10e0.options[i];if(opt.selected){_10e1.push(this.optionValue(opt));}}return _10e1;},optionValue:function(opt){return Element.extend(opt).hasAttribute("value")?opt.value:opt.text;}};Abstract.TimedObserver=function(){};Abstract.TimedObserver.prototype={initialize:function(_10e5,_10e6,_10e7){this.frequency=_10e6;this.element=$(_10e5);this.callback=_10e7;this.lastValue=this.getValue();this.registerCallback();},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},onTimerEvent:function(){var value=this.getValue();var _10e9=("string"==typeof this.lastValue&&"string"==typeof value?this.lastValue!=value:String(this.lastValue)!=String(value));if(_10e9){this.callback(this.element,value);this.lastValue=value;}}};Form.Element.Observer=Class.create();Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.Observer=Class.create();Form.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.serialize(this.element);}});Abstract.EventObserver=function(){};Abstract.EventObserver.prototype={initialize:function(_10ea,_10eb){this.element=$(_10ea);this.callback=_10eb;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks();}else{this.registerCallback(this.element);}},onElementEvent:function(){var value=this.getValue();if(this.lastValue!=value){this.callback(this.element,value);this.lastValue=value;}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this));},registerCallback:function(_10ed){if(_10ed.type){switch(_10ed.type.toLowerCase()){case "checkbox":case "radio":Event.observe(_10ed,"click",this.onElementEvent.bind(this));break;default:Event.observe(_10ed,"change",this.onElementEvent.bind(this));break;}}}};Form.Element.EventObserver=Class.create();Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.EventObserver=Class.create();Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.serialize(this.element);}});if(!window.Event){var Event=new Object();}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(event){return event.target||event.srcElement;},isLeftClick:function(event){return (((event.which)&&(event.which==1))||((event.button)&&(event.button==1)));},pointerX:function(event){return event.pageX||(event.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));},pointerY:function(event){return event.pageY||(event.clientY+(document.documentElement.scrollTop||document.body.scrollTop));},stop:function(event){if(event.preventDefault){event.preventDefault();event.stopPropagation();}else{event.returnValue=false;event.cancelBubble=true;}},findElement:function(event,_10f4){var _10f5=Event.element(event);while(_10f5.parentNode&&(!_10f5.tagName||(_10f5.tagName.toUpperCase()!=_10f4.toUpperCase()))){_10f5=_10f5.parentNode;}return _10f5;},observers:false,_observeAndCache:function(_10f6,name,_10f8,_10f9){if(!this.observers){this.observers=[];}if(_10f6.addEventListener){this.observers.push([_10f6,name,_10f8,_10f9]);_10f6.addEventListener(name,_10f8,_10f9);}else{if(_10f6.attachEvent){this.observers.push([_10f6,name,_10f8,_10f9]);_10f6.attachEvent("on"+name,_10f8);}}},unloadCache:function(){if(!Event.observers){return;}for(var i=0,length=Event.observers.length;i<length;i++){Event.stopObserving.apply(this,Event.observers[i]);Event.observers[i][0]=null;}Event.observers=false;},observe:function(_10fb,name,_10fd,_10fe){_10fb=$(_10fb);_10fe=_10fe||false;if(name=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||_10fb.attachEvent)){name="keydown";}Event._observeAndCache(_10fb,name,_10fd,_10fe);},stopObserving:function(_10ff,name,_1101,_1102){_10ff=$(_10ff);_1102=_1102||false;if(name=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||_10ff.detachEvent)){name="keydown";}if(_10ff.removeEventListener){_10ff.removeEventListener(name,_1101,_1102);}else{if(_10ff.detachEvent){try{_10ff.detachEvent("on"+name,_1101);}catch(e){}}}}});if(navigator.appVersion.match(/\bMSIE\b/)){Event.observe(window,"unload",Event.unloadCache,false);}var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},realOffset:function(_1103){var _1104=0,valueL=0;do{_1104+=_1103.scrollTop||0;valueL+=_1103.scrollLeft||0;_1103=_1103.parentNode;}while(_1103);return [valueL,_1104];},cumulativeOffset:function(_1105){var _1106=0,valueL=0;do{_1106+=_1105.offsetTop||0;valueL+=_1105.offsetLeft||0;_1105=_1105.offsetParent;}while(_1105);return [valueL,_1106];},positionedOffset:function(_1107){var _1108=0,valueL=0;do{_1108+=_1107.offsetTop||0;valueL+=_1107.offsetLeft||0;_1107=_1107.offsetParent;if(_1107){if(_1107.tagName=="BODY"){break;}var p=Element.getStyle(_1107,"position");if(p=="relative"||p=="absolute"){break;}}}while(_1107);return [valueL,_1108];},offsetParent:function(_110a){if(_110a.offsetParent){return _110a.offsetParent;}if(_110a==document.body){return _110a;}while((_110a=_110a.parentNode)&&_110a!=document.body){if(Element.getStyle(_110a,"position")!="static"){return _110a;}}return document.body;},within:function(_110b,x,y){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(_110b,x,y);}this.xcomp=x;this.ycomp=y;this.offset=this.cumulativeOffset(_110b);return (y>=this.offset[1]&&y<this.offset[1]+_110b.offsetHeight&&x>=this.offset[0]&&x<this.offset[0]+_110b.offsetWidth);},withinIncludingScrolloffsets:function(_110e,x,y){var _1111=this.realOffset(_110e);this.xcomp=x+_1111[0]-this.deltaX;this.ycomp=y+_1111[1]-this.deltaY;this.offset=this.cumulativeOffset(_110e);return (this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+_110e.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+_110e.offsetWidth);},overlap:function(mode,_1113){if(!mode){return 0;}if(mode=="vertical"){return ((this.offset[1]+_1113.offsetHeight)-this.ycomp)/_1113.offsetHeight;}if(mode=="horizontal"){return ((this.offset[0]+_1113.offsetWidth)-this.xcomp)/_1113.offsetWidth;}},page:function(_1114){var _1115=0,valueL=0;var _1116=_1114;do{_1115+=_1116.offsetTop||0;valueL+=_1116.offsetLeft||0;if(_1116.offsetParent==document.body){if(Element.getStyle(_1116,"position")=="absolute"){break;}}}while(_1116=_1116.offsetParent);_1116=_1114;do{if(!window.opera||_1116.tagName=="BODY"){_1115-=_1116.scrollTop||0;valueL-=_1116.scrollLeft||0;}}while(_1116=_1116.parentNode);return [valueL,_1115];},clone:function(_1117,_1118){var _1119=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});_1117=$(_1117);var p=Position.page(_1117);_1118=$(_1118);var delta=[0,0];var _111c=null;if(Element.getStyle(_1118,"position")=="absolute"){_111c=Position.offsetParent(_1118);delta=Position.page(_111c);}if(_111c==document.body){delta[0]-=document.body.offsetLeft;delta[1]-=document.body.offsetTop;}if(_1119.setLeft){_1118.style.left=(p[0]-delta[0]+_1119.offsetLeft)+"px";}if(_1119.setTop){_1118.style.top=(p[1]-delta[1]+_1119.offsetTop)+"px";}if(_1119.setWidth){_1118.style.width=_1117.offsetWidth+"px";}if(_1119.setHeight){_1118.style.height=_1117.offsetHeight+"px";}},absolutize:function(_111d){_111d=$(_111d);if(_111d.style.position=="absolute"){return;}Position.prepare();var _111e=Position.positionedOffset(_111d);var top=_111e[1];var left=_111e[0];var width=_111d.clientWidth;var _1122=_111d.clientHeight;_111d._originalLeft=left-parseFloat(_111d.style.left||0);_111d._originalTop=top-parseFloat(_111d.style.top||0);_111d._originalWidth=_111d.style.width;_111d._originalHeight=_111d.style.height;_111d.style.position="absolute";_111d.style.top=top+"px";_111d.style.left=left+"px";_111d.style.width=width+"px";_111d.style.height=_1122+"px";},relativize:function(_1123){_1123=$(_1123);if(_1123.style.position=="relative"){return;}Position.prepare();_1123.style.position="relative";var top=parseFloat(_1123.style.top||0)-(_1123._originalTop||0);var left=parseFloat(_1123.style.left||0)-(_1123._originalLeft||0);_1123.style.top=top+"px";_1123.style.left=left+"px";_1123.style.height=_1123._originalHeight;_1123.style.width=_1123._originalWidth;}};if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){Position.cumulativeOffset=function(_1126){var _1127=0,valueL=0;do{_1127+=_1126.offsetTop||0;valueL+=_1126.offsetLeft||0;if(_1126.offsetParent==document.body){if(Element.getStyle(_1126,"position")=="absolute"){break;}}_1126=_1126.offsetParent;}while(_1126);return [valueL,_1127];};}Element.addMethods();