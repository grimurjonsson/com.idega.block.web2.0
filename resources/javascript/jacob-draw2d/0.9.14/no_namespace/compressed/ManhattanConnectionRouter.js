/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

ManhattanConnectionRouter=function(){this.MINDIST=20;};ManhattanConnectionRouter.prototype=new ConnectionRouter;ManhattanConnectionRouter.prototype.type="ManhattanConnectionRouter";ManhattanConnectionRouter.prototype.route=function(conn){var _f12=conn.getStartPoint();var _f13=this.getStartDirection(conn);var toPt=conn.getEndPoint();var _f15=this.getEndDirection(conn);this._route(conn,toPt,_f15,_f12,_f13);};ManhattanConnectionRouter.prototype._route=function(conn,_f17,_f18,toPt,_f1a){var TOL=0.1;var _f1c=0.01;var UP=0;var _f1e=1;var DOWN=2;var LEFT=3;var _f21=_f17.x-toPt.x;var _f22=_f17.y-toPt.y;var _f23;var dir;if(((_f21*_f21)<(_f1c))&&((_f22*_f22)<(_f1c))){conn.addPoint(new Point(toPt.x,toPt.y));return;}if(_f18==LEFT){if((_f21>0)&&((_f22*_f22)<TOL)&&(_f1a==_f1e)){_f23=toPt;dir=_f1a;}else{if(_f21<0){_f23=new Point(_f17.x-this.MINDIST,_f17.y);}else{if(((_f22>0)&&(_f1a==DOWN))||((_f22<0)&&(_f1a==UP))){_f23=new Point(toPt.x,_f17.y);}else{if(_f18==_f1a){var pos=Math.min(_f17.x,toPt.x)-this.MINDIST;_f23=new Point(pos,_f17.y);}else{_f23=new Point(_f17.x-(_f21/2),_f17.y);}}}if(_f22>0){dir=UP;}else{dir=DOWN;}}}else{if(_f18==_f1e){if((_f21<0)&&((_f22*_f22)<TOL)&&(_f1a==LEFT)){_f23=toPt;dir=_f1a;}else{if(_f21>0){_f23=new Point(_f17.x+this.MINDIST,_f17.y);}else{if(((_f22>0)&&(_f1a==DOWN))||((_f22<0)&&(_f1a==UP))){_f23=new Point(toPt.x,_f17.y);}else{if(_f18==_f1a){var pos=Math.max(_f17.x,toPt.x)+this.MINDIST;_f23=new Point(pos,_f17.y);}else{_f23=new Point(_f17.x-(_f21/2),_f17.y);}}}if(_f22>0){dir=UP;}else{dir=DOWN;}}}else{if(_f18==DOWN){if(((_f21*_f21)<TOL)&&(_f22<0)&&(_f1a==UP)){_f23=toPt;dir=_f1a;}else{if(_f22>0){_f23=new Point(_f17.x,_f17.y+this.MINDIST);}else{if(((_f21>0)&&(_f1a==_f1e))||((_f21<0)&&(_f1a==LEFT))){_f23=new Point(_f17.x,toPt.y);}else{if(_f18==_f1a){var pos=Math.max(_f17.y,toPt.y)+this.MINDIST;_f23=new Point(_f17.x,pos);}else{_f23=new Point(_f17.x,_f17.y-(_f22/2));}}}if(_f21>0){dir=LEFT;}else{dir=_f1e;}}}else{if(_f18==UP){if(((_f21*_f21)<TOL)&&(_f22>0)&&(_f1a==DOWN)){_f23=toPt;dir=_f1a;}else{if(_f22<0){_f23=new Point(_f17.x,_f17.y-this.MINDIST);}else{if(((_f21>0)&&(_f1a==_f1e))||((_f21<0)&&(_f1a==LEFT))){_f23=new Point(_f17.x,toPt.y);}else{if(_f18==_f1a){var pos=Math.min(_f17.y,toPt.y)-this.MINDIST;_f23=new Point(_f17.x,pos);}else{_f23=new Point(_f17.x,_f17.y-(_f22/2));}}}if(_f21>0){dir=LEFT;}else{dir=_f1e;}}}}}}this._route(conn,_f23,dir,toPt,_f1a);conn.addPoint(_f17);};